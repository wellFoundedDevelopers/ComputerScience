# Tree

---

## Tree

- 노드로 이루어진 자료 구조.
    - 트리는 하나의 루트 노드를 가짐
    - 루트 노드는 0개 이상의 자식 노드를 가짐
    - 해당 자식 노드 또한 0개 이상의 자식 노드를 가짐 ... 반복
- 노드(node)들과 노드들을 연결하는 간선(edge)들로 구성됨.
    - 트리에는 사이클이 존재할 수 없음.
    - 노드들은 특정 순서로 나열될 수도 그러지 않을 수도 있음.
 
- DAG(방향성이 있는 비순환 그래프)의 한 종류.
- 비선형 자료구조로 계층적 관계를 표현
- 트리내에 또 다른 트리(서브 트리)가 있는 재귀적 자료구조임.

## 트리(Tree)와 관련된 용어

![트리](https://gmlwjd9405.github.io/images/data-structure-tree/tree-terms.png)

- **루트 노드(root node)**: 트리의 시작 노드, 부모가 없는 노드, 트리는 하나의 루트 노드만을 가짐.
- **단말 노드(leaf node)**: 자식이 없는 노드, "말단 노드" 혹은 "리프 노드"라고도 불림.
- **내부 노드(internal node)**: 단말 노드가 아닌 노드. 즉, 차수가 1 이상인 노드
- **간선(edge)**: 노드를 연결하는 선, "link" 혹은 "branch"라고도 불림.
- **형제 노드(sibling node)**: 같은 부모를 가지는 노드.
- **조상 노드(Ancestor node)**: 한 노드에서 간선을 따라 루트 노드까지에 이르는 경로에 있는 노드들
- **노드의 크기(size)**: 자신을 포함한 모든 자손 노드의 개수
  - 그림에서 B노드의 크기는 6
- **노드의 깊이(depth)**: 루트에서 어떤 노드에 도달하기 위해 거쳐야 하는 간선의 수
- **노드의 레벨(level)**: 트리의 특정 깊이를 가지는 노드의 집합
- **노드의 차수(degree)**: 하위 트리 개수 == 간선 수 == 각 노드가 지닌 가지의 수 == 자식 노드의 수
- **트리의 차수(degree of tree)**: 트리의 최대 차수 == 노드의 차수 중에서 가장 큰 값.
- **트리의 높이(height)**: 루트 노드에서 가장 깊숙히 있는 노드의 깊이 == 최대 레벨
- **포리스트(Forest)**: 여러 개의 트리 집합

## 트리(Tree)의 특징

- 그래프의 한 종류임.
- 계층 모델임.
- DAG(방향성이 있는 비순환 그래프)읜 한 종류임.
    - loop, circuit, self-loop가 존재하지 않음.
    - 즉, 사이클이 없음.
- 노드가 n개인 트리는 항상 n-1개의 간선을 가짐.
    - 즉, 간선은 항상(정점의 개수-1)만큼을 가짐.
- 루트에서 어떤 노드로 가는 경로는 유일함.
    - 임의의 두 노드 간의 경로도 유일함. 즉, 두 개의 정점 사이에 반드시 1개의 경로만을 가짐.
- 루트 노드는 1개만 존재하고 모든 자식 노드는 한 개의 부모 노드만을 가짐.
- 순회는 Pre-order, In-order, Post-order가 있음.
- 이진 트리, 이진 탐색 트리, 균형트리(AVL 트리, red-black 트리), 힙 등이 있음.

## 트리의 순회

트리의 모든 노드들을 방문하는 과정을 트리 순회(Tree Traversal)라고 함.

- 전위 순회 (Preorder)
- 중위 순회 (Inorder)
- 후위 순회 (Postorder)

### 전위 순회

![전위 순회](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FqaUdk%2Fbtq16y96ZK5%2FHzgM9ijvptwnj6jxshGYbK%2Fimg.png)

- 깊이 우선 순회(DFT, Depth-First Traversal)라고도 함.
- 트리를 복사하거나 전위 표기법을 구할 때 주로 사용.
- 전위 순회는 아래의 순서로 진행됨.
  - Root 노드를 방문
  - 왼쪽 서브 트리를 전위 순회
  - 오른쪽 서브 트리를 전위 순회
- 위 그림의 전위 순회 결과: A->B->D->E->C->F->G

### 중위 순회

![중위 순회](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FmJf2v%2Fbtq18DJBGdX%2FGX3tikbiJVXxMPVVYb82a1%2Fimg.png)

- 왼쪽 오른쪽 대칭 순서로 순회를 하기 때문에 대칭 순회(Symmetric Traversal)라고도 함.
- BST(이진 탐색 트리)에서 오름차순 또는 내림차순으로 값을 가져올 때 사용.
  - 내림차순으로 값을 가져오기 위해서는 역순(오른쪽->root->왼쪽)으로 중위 순회를 하면 됨.
- 중위 순회는 아래의 순서로 진행됨.
  - 왼쪽 서브 트리를 중위 순회
  - Root 노드를 방문
  - 오른쪽 서브 트리를 중위 순회
- 위 그림의 중위 순회 결과: D->B->E->A->F->C->G

### 후위 순회

![후위 순회](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2Fcj9NLm%2Fbtq18oMo4Wg%2FkmRXeo7LyIbUuwkWesmg1k%2Fimg.png)

- 트리를 삭제할 때 주로 사용.
  - 부모 노드를 삭제하기 전 자식 노드를 삭제하는 순으로 노드를 삭제해야하기 때문.
- 후위 순회는 아래의 순서로 진행됨.
  - 왼쪽 서브 트리를 후위 순회
  - 오른쪽 서브 트리를 후위 순회
  - Root 노드를 방문
- 위 그림의 후위 순회 결과: D->E->B->F->G->C->A

## 트리의 종류

### 이진 트리
- 각 노드가 최대 두 개의 자식을 갖는 트리
- **포화 이진 트리**
  - 모든 레벨에 노드가 꽉 차 높이를 늘이지 않는 한 노드를 추가할 수 없는 포화 상태의 이진 트리
  - 높이가 h일 때, 2^(h+1)-1 개이며, 최대 노드 수를 가짐.
  - 배열을 사용하여 효율적으로 표현이 가능
- **완전 이진 트리**
  - 높이가 h이고 노드 수가 n개일 때(단, n < 2^(h+1)-1), 노드 위치가 포화 이진 트리에서의 노드 1번부터 n번까지의 위치와 완전히 일치하는 이진 트리
  - 따라서 완전 이진 트리에서 (n+1)번부터 2^(h+1)-1 까지의 노드는 모두 공백 노드가 됨.
  - 배열을 사용하여 효율적으로 표현이 가능
- **전 이진 트리**
  - 모든 노드가 0개 또는 2개의 자식 노드를 갖는 트리
- **편향 이진 트리**
  - 높이가 h일 때 h+1개의 노드를 가지며 모든 노드가 왼쪽이나 오른쪽 중 한 방향으로만 서브 트리를 가지고 있는 트리.

### 이진 탐색 트리
- 모든 노드가 아래의 조건을 만족하는 이진 트리
  - 모든 원소는 서로 다른 유일한 키를 가짐.
  - 횐쪽 서브 트리에 있는 원소들의 키는 그 루트의 키보다 작음
  - 오른쪽 서브 트리에 있는 원소들의 키는 그 루트의 키보다 작음
  - 왼쪽 서브 트리와 오른쪽 서브 트리도 이진 탐색 트리임.
  - `즉, 모든 왼쪽 자식들 < n < 모든 오른쪽 자식들 (모든 노드 n에 대하여)`

### 균형 트리
- O(logN) 시간에 insert, find를 할 수 있을 정도로 균형이 잘 잡혀있는 트리
- ex) Red-Black Tree, AVL Tree

### 트라이(trie) 혹은 접두사 트리(Prefix Tree)
- 문자열의 집합을 표현하는 트리 자료구조
  - 문자열을 빠르게 탐색할 수 있는 문자열 특화 자료구조임.
- n-차 트리(n-ary tree)의 변종
- 각 노드에 문자를 저장하여, 트리를 아래쪽으로 순회하면 단어 하나가 생성됨.
- 문자열의 추가와 탐색이 빠름 - 문자열의 길이가 M일 경우 O(M)
  - 문자열의 길이만큼 노드를 따라가거나 추가하면 됨.
- 필요한 메모리의 크기가 굉장히 큼.
  - 최악의 경우에 집합에 포함되는 문자열들의 길이 총합만큼 노드가 필요함.
  - 필요한 메모리: 포인터 크기 * 포인터 배열 개수 * 총 노드의 개수

### 출처
- C로 배우는 쉬운 자료구조(한빛아카데미)
- [[자료구조] 트리(Tree)란](https://gmlwjd9405.github.io/2018/08/12/data-structure-tree.html)
- [[자료구조] 트리 (Tree)](https://yoongrammer.tistory.com/68)
- [[자료구조] 트리 순회 (Tree Traversal)](https://yoongrammer.tistory.com/70)
- [[자료구조] 트라이(Trie) 자료구조](https://rebro.kr/86)